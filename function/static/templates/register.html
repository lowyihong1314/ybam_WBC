<!doctype html>
<html lang="zh">
 <head>
  <meta charset="UTF-8">
  <link rel="icon" type="image/x-icon" href="/static/images/logo/YBAM_logo.ico">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2025å¹´ä¸–ç•Œä½›æ•™å¤§ä¼š - æŠ¥åè¡¨æ ¼</title>
  <script src="/_sdk/data_sdk.js"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            overflow-x: hidden;
            background: linear-gradient(135deg, #d4f1e8 0%, #b8e6f5 100%);
            min-height: 100%;
        }

        html, body {
            height: 100%;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, #a8e6cf 0%, #87ceeb 100%);
            padding: 1.5rem 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logo-section img {
            height: 57px;
            width: auto;
        }

        .tagline {
            font-size: 0.9rem;
            color: #2c5f2d;
            font-weight: 500;
        }

        nav {
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
        }

        nav a {
            color: #2c5f2d;
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s ease;
            padding: 0.5rem 0;
        }

        nav a:hover {
            color: #1a472a;
        }

        /* Main Container */
        .container {
            max-width: 800px;
            margin: 3rem auto;
            padding: 0 2rem 3rem 2rem;
        }

        /* Form Card */
        .form-card {
            background: white;
            border-radius: 20px;
            padding: 3rem;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        .form-card h2 {
            font-size: 2rem;
            color: #2c5f2d;
            margin-bottom: 0.5rem;
            text-align: center;
        }

        .form-subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 2.5rem;
            font-size: 1rem;
        }

        /* Form Groups */
        .form-group {
            margin-bottom: 1.5rem;
        }

        label {
            display: block;
            font-weight: 600;
            color: #2c5f2d;
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }

        .required {
            color: #e74c3c;
            margin-left: 0.2rem;
        }

        input[type="text"],
        input[type="email"],
        input[type="tel"],
        select,
        textarea {
            width: 100%;
            padding: 0.9rem 1.2rem;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            font-family: inherit;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
            background: #fafafa;
        }

        input[type="text"]:focus,
        input[type="email"]:focus,
        input[type="tel"]:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: #5fb88f;
            box-shadow: 0 0 0 3px rgba(95, 184, 143, 0.1);
            background: white;
        }

        textarea {
            resize: vertical;
            min-height: 100px;
        }

        select {
            cursor: pointer;
        }

        /* Radio Group */
        .radio-group {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
            margin-top: 0.5rem;
        }

        .radio-option {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .radio-option input[type="radio"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
            accent-color: #5fb88f;
        }

        .radio-option label {
            margin: 0;
            font-weight: 500;
            cursor: pointer;
        }

        /* Submit Button */
        .submit-button {
            width: 100%;
            background: linear-gradient(135deg, #5fb88f 0%, #4a9fd8 100%);
            color: white;
            padding: 1.2rem;
            border: none;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            margin-top: 1rem;
        }

        .submit-button:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .submit-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        /* Success Message */
        .success-message {
            display: none;
            background: linear-gradient(135deg, #e8f8f5 0%, #e3f2fd 100%);
            border-left: 4px solid #5fb88f;
            padding: 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            text-align: center;
        }

        .success-message.show {
            display: block;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .success-message h3 {
            color: #2c5f2d;
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .success-message p {
            color: #4a7c59;
            font-size: 1rem;
        }

        /* Error Message */
        .error-message {
            display: none;
            background: #fee;
            border-left: 4px solid #e74c3c;
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 1rem;
            color: #c0392b;
        }

        .error-message.show {
            display: block;
        }

        /* Loading Spinner */
        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
            margin-right: 0.5rem;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Info Box */
        .info-box {
            background: linear-gradient(135deg, #fff9e6 0%, #ffe6e6 100%);
            border-left: 4px solid #ffc107;
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 2rem;
        }

        .info-box h3 {
            color: #2c5f2d;
            font-size: 1.2rem;
            margin-bottom: 0.8rem;
        }

        .info-box ul {
            margin-left: 1.5rem;
            color: #555;
        }

        .info-box li {
            margin-bottom: 0.5rem;
        }

        /* Footer */
        footer {
            background: linear-gradient(135deg, #2c5f2d 0%, #1a472a 100%);
            color: white;
            padding: 2rem;
            text-align: center;
            margin-top: 3rem;
        }

        footer p {
            margin: 0.5rem 0;
        }

        /* Responsive */
        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8rem;
            }

            header p {
                font-size: 1rem;
            }

            .form-card {
                padding: 2rem 1.5rem;
            }

            .form-card h2 {
                font-size: 1.5rem;
            }

            .container {
                margin: 2rem auto;
                padding: 0 1rem 2rem 1rem;
            }

            .radio-group {
                flex-direction: column;
                gap: 1rem;
            }
        }
    </style>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <header>
   <div class="header-content">
    <div class="logo-section"><img src="https://ybam-wordpress-media.s3.ap-southeast-1.amazonaws.com/wp-content/uploads/2024/05/03162711/ybamlogo2.png" alt="YBAM Logo" onerror="this.src=''; this.alt='Logo failed to load'; this.style.display='none';"> <span class="tagline" id="tagline">å¤è€æ™ºæ…§ Â· æ°¸ç»­æœªæ¥</span>
    </div>
    <nav><nav><a href="/static/templates/index.html">å…³äºæˆ‘ä»¬</a> <a href="/static/templates/WBC.html">ä¸–ç•Œä½›æ•™å¤§ä¼š</a><a href="/static/templates/register.html">é©¬ä¸ŠæŠ¥å</a>
    </nav>
   </div>
  </header>
  <div class="container">
   <div class="form-card">
    <div class="success-message" id="success-message">
     <h3>âœ… æŠ¥åæˆåŠŸï¼</h3>
     <p>æ„Ÿè°¢æ‚¨çš„æŠ¥åï¼Œæˆ‘ä»¬å·²æ”¶åˆ°æ‚¨çš„ä¿¡æ¯ã€‚ç»„å§”ä¼šå°†é€šè¿‡é‚®ä»¶ä¸æ‚¨è”ç³»ã€‚</p>
    </div>
    <div class="error-message" id="error-message"></div>
    <h2 id="form-title">å¤§ä¼šæŠ¥å</h2>
    <p class="form-subtitle">è¯·å¡«å†™ä»¥ä¸‹ä¿¡æ¯å®ŒæˆæŠ¥å</p>
    <div class="info-box">
     <h3>ğŸ“‹ æŠ¥åé¡»çŸ¥</h3>
     <ul>
      <li>æ‰€æœ‰æ ‡æœ‰ <span class="required">*</span> çš„å­—æ®µä¸ºå¿…å¡«é¡¹</li>
      <li>è¯·ç¡®ä¿æ‚¨çš„è”ç³»ä¿¡æ¯å‡†ç¡®æ— è¯¯</li>
      <li>æäº¤åæˆ‘ä»¬å°†é€šè¿‡é‚®ä»¶å‘é€ç¡®è®¤å‡½</li>
      <li>å¦‚æœ‰ç–‘é—®ï¼Œè¯·è”ç³»ç»„å§”ä¼š</li>
     </ul>
    </div>
    <form id="registration-form">
     <div class="form-group"><label for="full-name">å§“å <span class="required">*</span></label> <input type="text" id="full-name" name="full_name" required placeholder="è¯·è¾“å…¥æ‚¨çš„å…¨å">
     </div>
     <div class="form-group"><label for="email">ç”µå­é‚®ç®± <span class="required">*</span></label> <input type="email" id="email" name="email" required placeholder="example@email.com">
     </div>
     <div class="form-group"><label for="phone">è”ç³»ç”µè¯ <span class="required">*</span></label> <input type="tel" id="phone" name="phone" required placeholder="+60 12-345 6789">
     </div>
     <div class="form-group"><label for="country">å›½å®¶/åœ°åŒº <span class="required">*</span></label> <select id="country" name="country" required> <option value="">è¯·é€‰æ‹©</option> <option value="é©¬æ¥è¥¿äºš">é©¬æ¥è¥¿äºš</option> <option value="ä¸­å›½">ä¸­å›½</option> <option value="æ–°åŠ å¡">æ–°åŠ å¡</option> <option value="æ³°å›½">æ³°å›½</option> <option value="å°åº¦å°¼è¥¿äºš">å°åº¦å°¼è¥¿äºš</option> <option value="è¶Šå—">è¶Šå—</option> <option value="ç¼…ç”¸">ç¼…ç”¸</option> <option value="æ–¯é‡Œå…°å¡">æ–¯é‡Œå…°å¡</option> <option value="å°åº¦">å°åº¦</option> <option value="æ—¥æœ¬">æ—¥æœ¬</option> <option value="éŸ©å›½">éŸ©å›½</option> <option value="å°æ¹¾">å°æ¹¾</option> <option value="é¦™æ¸¯">é¦™æ¸¯</option> <option value="æ¾³é—¨">æ¾³é—¨</option> <option value="å…¶ä»–">å…¶ä»–</option> </select>
     </div>
     <div class="form-group"><label for="organization">æ‰€å±æœºæ„/å¯ºé™¢</label> <input type="text" id="organization" name="organization" placeholder="è¯·è¾“å…¥æ‚¨çš„æœºæ„æˆ–å¯ºé™¢åç§°ï¼ˆé€‰å¡«ï¼‰">
     </div>
     <div class="form-group"><label>å‚ä¼šèº«ä»½ <span class="required">*</span></label>
      <div class="radio-group">
       <div class="radio-option"><input type="radio" id="type-clergy" name="participant_type" value="åƒ§ä¾£/æ³•å¸ˆ" required> <label for="type-clergy">åƒ§ä¾£/æ³•å¸ˆ</label>
       </div>
       <div class="radio-option"><input type="radio" id="type-youth" name="participant_type" value="é’å¹´ä»£è¡¨"> <label for="type-youth">é’å¹´ä»£è¡¨</label>
       </div>
       <div class="radio-option"><input type="radio" id="type-scholar" name="participant_type" value="å­¦è€…/ç ”ç©¶å‘˜"> <label for="type-scholar">å­¦è€…/ç ”ç©¶å‘˜</label>
       </div>
       <div class="radio-option"><input type="radio" id="type-volunteer" name="participant_type" value="å¿—æ„¿è€…"> <label for="type-volunteer">å¿—æ„¿è€…</label>
       </div>
       <div class="radio-option"><input type="radio" id="type-general" name="participant_type" value="ä¸€èˆ¬å‚ä¸è€…"> <label for="type-general">ä¸€èˆ¬å‚ä¸è€…</label>
       </div>
      </div>
     </div>
     <div class="form-group"><label for="dietary">é¥®é£Ÿè¦æ±‚</label> <select id="dietary" name="dietary_requirements"> <option value="ç´ é£Ÿ">ç´ é£Ÿ</option> <option value="çº¯ç´ é£Ÿ">çº¯ç´ é£Ÿï¼ˆVeganï¼‰</option> <option value="æ¸…çœŸ">æ¸…çœŸï¼ˆHalalï¼‰</option> <option value="æ— ç‰¹æ®Šè¦æ±‚">æ— ç‰¹æ®Šè¦æ±‚</option> <option value="å…¶ä»–">å…¶ä»–ï¼ˆè¯·åœ¨å¤‡æ³¨è¯´æ˜ï¼‰</option> </select>
     </div>
     <div class="form-group"><label for="special-needs">ç‰¹æ®Šéœ€æ±‚æˆ–å¤‡æ³¨</label> <textarea id="special-needs" name="special_needs" placeholder="å¦‚æœ‰ç‰¹æ®Šéœ€æ±‚ï¼ˆå¦‚æ— éšœç¢è®¾æ–½ã€è¿‡æ•ä¿¡æ¯ç­‰ï¼‰ï¼Œè¯·åœ¨æ­¤è¯´æ˜"></textarea>
     </div><button type="submit" class="submit-button" id="submit-button"> <span id="submit-button-text">æäº¤æŠ¥å</span> </button>
    </form>
   </div>
  </div>
  <footer>
   <p id="footer-text">Â© 2025 ä¸–ç•Œä½›æ•™å¤§ä¼š | ä¸»åŠå•ä½ï¼šé©¬æ¥è¥¿äºšä½›æ•™é’å¹´æ€»ä¼š (YBAM)</p>
   <p>World Buddhist Conference 2025 | Organised by Young Buddhist Association of Malaysia</p>
  </footer>
  <script>
        const defaultConfig = {
            background_color: "#d4f1e8",
            surface_color: "#ffffff",
            text_color: "#2c5f2d",
            primary_action_color: "#5fb88f",
            secondary_action_color: "#4a9fd8",
            font_family: "Segoe UI",
            font_size: 16,
            page_title: "2025å¹´ä¸–ç•Œä½›æ•™å¤§ä¼š",
            page_subtitle: "æŠ¥åè¡¨æ ¼ | 2025å¹´3æœˆ29-30æ—¥",
            form_title: "å¤§ä¼šæŠ¥å",
            submit_button_text: "æäº¤æŠ¥å",
            footer_text: "Â© 2025 ä¸–ç•Œä½›æ•™å¤§ä¼š | ä¸»åŠå•ä½ï¼šé©¬æ¥è¥¿äºšä½›æ•™é’å¹´æ€»ä¼š (YBAM)"
        };

        let isSubmitting = false;
        let registrationCount = 0;

        const dataHandler = {
            onDataChanged(data) {
                registrationCount = data.length;
            }
        };

        async function initializeApp() {
            const initResult = await window.dataSdk.init(dataHandler);
            if (!initResult.isOk) {
                showError("ç³»ç»Ÿåˆå§‹åŒ–å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•");
                console.error("Failed to initialize data SDK");
            }
        }

        function showError(message) {
            const errorDiv = document.getElementById('error-message');
            errorDiv.textContent = message;
            errorDiv.classList.add('show');
            setTimeout(() => {
                errorDiv.classList.remove('show');
            }, 5000);
        }

        function showSuccess() {
            const successDiv = document.getElementById('success-message');
            successDiv.classList.add('show');
            document.getElementById('registration-form').reset();
            
            setTimeout(() => {
                successDiv.classList.remove('show');
            }, 5000);
        }

        document.getElementById('registration-form').addEventListener('submit', async (e) => {
            e.preventDefault();

            if (isSubmitting) return;

            if (registrationCount >= 999) {
                showError("æŠ¥åäººæ•°å·²è¾¾ä¸Šé™ï¼ˆ999äººï¼‰ï¼Œæ— æ³•ç»§ç»­æäº¤ã€‚è¯·è”ç³»ç»„å§”ä¼šã€‚");
                return;
            }

            isSubmitting = true;
            const submitButton = document.getElementById('submit-button');
            const buttonText = document.getElementById('submit-button-text');
            
            submitButton.disabled = true;
            buttonText.innerHTML = '<span class="spinner"></span>æäº¤ä¸­...';

            const formData = new FormData(e.target);
            const registrationData = {
                full_name: formData.get('full_name'),
                email: formData.get('email'),
                phone: formData.get('phone'),
                country: formData.get('country'),
                organization: formData.get('organization') || 'æœªå¡«å†™',
                participant_type: formData.get('participant_type'),
                dietary_requirements: formData.get('dietary_requirements'),
                special_needs: formData.get('special_needs') || 'æ— ',
                submitted_at: new Date().toISOString()
            };

            const result = await window.dataSdk.create(registrationData);

            if (result.isOk) {
                showSuccess();
            } else {
                showError("æäº¤å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥åé‡è¯•");
            }

            isSubmitting = false;
            submitButton.disabled = false;
            buttonText.textContent = defaultConfig.submit_button_text;
        });

        async function onConfigChange(config) {
            const backgroundColor = config.background_color || defaultConfig.background_color;
            const surfaceColor = config.surface_color || defaultConfig.surface_color;
            const textColor = config.text_color || defaultConfig.text_color;
            const primaryActionColor = config.primary_action_color || defaultConfig.primary_action_color;
            const secondaryActionColor = config.secondary_action_color || defaultConfig.secondary_action_color;
            const fontFamily = config.font_family || defaultConfig.font_family;
            const fontSize = config.font_size || defaultConfig.font_size;

            document.body.style.background = `linear-gradient(135deg, ${backgroundColor} 0%, ${surfaceColor} 100%)`;
            
            const formCard = document.querySelector('.form-card');
            formCard.style.background = surfaceColor;

            const headers = document.querySelectorAll('h1, h2, h3, label');
            headers.forEach(header => {
                header.style.color = textColor;
            });

            const submitButton = document.querySelector('.submit-button');
            submitButton.style.background = `linear-gradient(135deg, ${primaryActionColor} 0%, ${secondaryActionColor} 100%)`;

            const baseFontStack = 'Tahoma, Geneva, Verdana, sans-serif';
            document.body.style.fontFamily = `${fontFamily}, ${baseFontStack}`;

            document.querySelector('header h1').style.fontSize = `${fontSize * 2.5}px`;
            document.querySelector('header p').style.fontSize = `${fontSize * 1.2}px`;
            document.querySelector('.form-card h2').style.fontSize = `${fontSize * 2}px`;
            document.querySelectorAll('label').forEach(label => {
                label.style.fontSize = `${fontSize * 1}px`;
            });
            document.querySelectorAll('input, select, textarea').forEach(input => {
                input.style.fontSize = `${fontSize * 1}px`;
            });

            document.getElementById('page-title').textContent = config.page_title || defaultConfig.page_title;
            document.getElementById('page-subtitle').textContent = config.page_subtitle || defaultConfig.page_subtitle;
            document.getElementById('form-title').textContent = config.form_title || defaultConfig.form_title;
            
            const buttonTextSpan = document.getElementById('submit-button-text');
            if (!isSubmitting) {
                buttonTextSpan.textContent = config.submit_button_text || defaultConfig.submit_button_text;
            }
            
            document.getElementById('footer-text').textContent = config.footer_text || defaultConfig.footer_text;
        }

        function mapToCapabilities(config) {
            return {
                recolorables: [
                    {
                        get: () => config.background_color || defaultConfig.background_color,
                        set: (value) => {
                            config.background_color = value;
                            window.elementSdk.setConfig({ background_color: value });
                        }
                    },
                    {
                        get: () => config.surface_color || defaultConfig.surface_color,
                        set: (value) => {
                            config.surface_color = value;
                            window.elementSdk.setConfig({ surface_color: value });
                        }
                    },
                    {
                        get: () => config.text_color || defaultConfig.text_color,
                        set: (value) => {
                            config.text_color = value;
                            window.elementSdk.setConfig({ text_color: value });
                        }
                    },
                    {
                        get: () => config.primary_action_color || defaultConfig.primary_action_color,
                        set: (value) => {
                            config.primary_action_color = value;
                            window.elementSdk.setConfig({ primary_action_color: value });
                        }
                    },
                    {
                        get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
                        set: (value) => {
                            config.secondary_action_color = value;
                            window.elementSdk.setConfig({ secondary_action_color: value });
                        }
                    }
                ],
                borderables: [],
                fontEditable: {
                    get: () => config.font_family || defaultConfig.font_family,
                    set: (value) => {
                        config.font_family = value;
                        window.elementSdk.setConfig({ font_family: value });
                    }
                },
                fontSizeable: {
                    get: () => config.font_size || defaultConfig.font_size,
                    set: (value) => {
                        config.font_size = value;
                        window.elementSdk.setConfig({ font_size: value });
                    }
                }
            };
        }

        function mapToEditPanelValues(config) {
            return new Map([
                ["page_title", config.page_title || defaultConfig.page_title],
                ["page_subtitle", config.page_subtitle || defaultConfig.page_subtitle],
                ["form_title", config.form_title || defaultConfig.form_title],
                ["submit_button_text", config.submit_button_text || defaultConfig.submit_button_text],
                ["footer_text", config.footer_text || defaultConfig.footer_text]
            ]);
        }

        if (window.elementSdk) {
            window.elementSdk.init({
                defaultConfig,
                onConfigChange,
                mapToCapabilities,
                mapToEditPanelValues
            });
        }

        initializeApp();
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99d20bae350cc786',t:'MTc2MjkwODczNi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>